<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portal de Jogos - 25 Anos da ISS</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Roboto', sans-serif;
        }
        .orbitron {
            font-family: 'Orbitron', sans-serif;
        }
        .text-glow {
            text-shadow: 0 0 8px rgba(255, 255, 255, 0.5), 0 0 12px rgba(0, 150, 255, 0.5);
        }
        .bg-space {
            background-color: #000428;
            background-image: linear-gradient(to bottom, #000428, #004e92, #000428),
                              url('https://www.transparenttextures.com/patterns/stardust.png');
        }
        /* --- ESTILOS AJUSTADOS PARA O JOGO DA MEM√ìRIA --- */
        .memory-grid {
            display: grid;
            /* ALTERA√á√ÉO: Layout de 2 colunas para combinar com a imagem */
            grid-template-columns: repeat(2, 1fr);
            gap: clamp(10px, 3vw, 15px);
            perspective: 1000px;
        }
        .memory-card {
            background-color: transparent;
            width: 100%;
            aspect-ratio: 1 / 1;
            border-radius: 8px;
            cursor: pointer;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.6s;
            -webkit-tap-highlight-color: transparent;
            user-select: none;
        }
        .memory-card.is-flipped {
            transform: rotateY(180deg);
        }
        .memory-card .card-face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
            font-size: clamp(2rem, 10vw, 3rem);
        }
        /* --- FIM DOS AJUSTES --- */
        .card-front {
            background: linear-gradient(135deg, #00c6ff, #0072ff);
            color: white;
        }
        .card-back {
            background-color: #374151; /* gray-700 */
            transform: rotateY(180deg);
        }
        .quiz-option {
            transition: background-color 0.2s ease-in-out;
        }
    </style>
</head>
<body class="bg-space text-white">

    <!-- Header -->
    <header class="container mx-auto px-6 py-4 text-center">
        <h1 class="orbitron text-4xl md:text-5xl font-bold uppercase text-glow">ISS 25 Anos</h1>
        <p class="text-lg text-cyan-300">Portal de Jogos Comemorativo</p>
    </header>

    <main class="container mx-auto px-6 py-8">
        
        <!-- Hero Section -->
        <section class="text-center my-12">
            <h2 class="orbitron text-3xl font-semibold mb-4 text-glow">Celebre 25 Anos da Esta√ß√£o Espacial Internacional!</h2>
            <p class="max-w-2xl mx-auto mb-8 text-gray-300">
                Explore o espa√ßo, teste suas habilidades e divirta-se com nossos minijogos criados para homenagear este marco incr√≠vel da explora√ß√£o humana.
            </p>
        </section>

        <!-- Games Section -->
        <section id="games">
            <h3 class="orbitron text-2xl font-bold text-center mb-8 border-b-2 border-cyan-400 pb-2 inline-block mx-auto w-full">Nossos Jogos</h3>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- Game 1: Asteroid Dodger -->
                <div class="bg-gray-800 bg-opacity-50 rounded-lg shadow-lg overflow-hidden border border-cyan-700 transform hover:scale-105 transition-transform duration-300">
                    <div class="p-6">
                        <h4 class="orbitron text-xl font-bold mb-2">Desvio de Asteroides</h4>
                        <p class="text-gray-400 mb-4 text-sm">Pilote sua nave e sobreviva √† chuva de asteroides. Quanto tempo voc√™ consegue durar?</p>
                        <button onclick="showGame('asteroid-dodger')" class="w-full bg-cyan-600 hover:bg-cyan-500 text-white font-bold py-2 px-4 rounded-lg orbitron transition-colors">
                            Jogar Agora
                        </button>
                    </div>
                </div>

                <!-- Game 2: Space Quiz -->
                <div class="bg-gray-800 bg-opacity-50 rounded-lg shadow-lg overflow-hidden border border-cyan-700 transform hover:scale-105 transition-transform duration-300">
                     <div class="p-6">
                        <h4 class="orbitron text-xl font-bold mb-2">Quiz Espacial</h4>
                        <p class="text-gray-400 mb-4 text-sm">Teste seus conhecimentos sobre a ISS e a explora√ß√£o espacial.</p>
                        <button onclick="showGame('space-quiz')" class="w-full bg-cyan-600 hover:bg-cyan-500 text-white font-bold py-2 px-4 rounded-lg orbitron transition-colors">
                            Jogar Agora
                        </button>
                    </div>
                </div>
                
                <!-- Game 3: Galaxy Memory -->
                <div class="bg-gray-800 bg-opacity-50 rounded-lg shadow-lg overflow-hidden border border-cyan-700 transform hover:scale-105 transition-transform duration-300">
                    <div class="p-6">
                        <h4 class="orbitron text-xl font-bold mb-2">Mem√≥ria Gal√°ctica</h4>
                        <p class="text-gray-400 mb-4 text-sm">Encontre os pares de cartas com tema espacial. Teste sua mem√≥ria!</p>
                        <button onclick="showGame('galaxy-memory')" class="w-full bg-cyan-600 hover:bg-cyan-500 text-white font-bold py-2 px-4 rounded-lg orbitron transition-colors">
                            Jogar Agora
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Game Modal -->
        <div id="game-modal" class="fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center hidden z-50 p-2 sm:p-4">
            <div class="bg-gray-900 rounded-lg p-4 shadow-2xl w-full h-full max-w-7xl max-h-[95vh] border-2 border-cyan-500 flex flex-col">
                <div class="flex justify-between items-center mb-4 flex-shrink-0">
                    <h3 id="game-title" class="orbitron text-2xl font-bold text-glow"></h3>
                    <button onclick="hideGame()" class="text-white text-3xl font-bold leading-none">&times;</button>
                </div>
                <div id="game-container" class="relative w-full h-full bg-black rounded-md flex items-center justify-center p-2 flex-grow">
                     <!-- O conte√∫do do jogo ser√° inserido aqui -->
                </div>
                <div id="game-instructions" class="mt-4 text-center text-gray-400 flex-shrink-0">
                    <!-- As instru√ß√µes do jogo aparecer√£o aqui -->
                </div>
            </div>
        </div>

    </main>

    <!-- Footer -->
    <footer class="text-center py-6 mt-12 border-t border-cyan-800">
        <p>&copy; 2025 - Projeto para o NASA Space Apps Challenge.</p>
        <p class="font-semibold text-sky-300 my-1">Feito pelo time Bots Tech.</p>
        <p class="text-xs text-gray-400">Criado com IA para celebrar os 25 anos da ISS.</p>
    </footer>

    <script>
        // --- Game Modal Logic ---
        const gameModal = document.getElementById('game-modal');
        const gameContainer = document.getElementById('game-container');
        const gameTitle = document.getElementById('game-title');
        const gameInstructions = document.getElementById('game-instructions');
        let gameInstance = null;

        function showGame(gameId) {
            gameContainer.innerHTML = ''; gameModal.classList.remove('hidden');
            gameContainer.style.aspectRatio = 'auto'; gameContainer.style.height = '100%';

            if (gameId === 'asteroid-dodger') {
                gameTitle.innerText = 'Desvio de Asteroides'; gameInstructions.innerText = 'Use as setas do teclado (ou toque e arraste na tela) para mover a nave.';
                gameInstance = new AsteroidDodger(gameContainer);
            } else if (gameId === 'space-quiz') {
                gameTitle.innerText = 'Quiz Espacial'; gameInstructions.innerText = 'Clique na resposta que voc√™ acha correta.';
                gameInstance = new SpaceQuiz(gameContainer);
            } else if (gameId === 'galaxy-memory') {
                gameTitle.innerText = 'Mem√≥ria Gal√°ctica'; gameInstructions.innerText = 'Clique nas cartas para encontrar os pares.';
                gameInstance = new GalaxyMemory(gameContainer);
            }
            if (gameInstance) { gameInstance.start(); }
        }

        function hideGame() {
            gameModal.classList.add('hidden');
            if(gameInstance) { gameInstance.stop(); gameInstance = null; }
            gameContainer.innerHTML = '';
        }

        // --- GAME 1: Asteroid Dodger ---
        class AsteroidDodger {
            constructor(container) {
                this.container = container; this.canvas = document.createElement('canvas'); this.ctx = this.canvas.getContext('2d'); this.container.appendChild(this.canvas);
                this.ship = { x: 0, y: 0, width: 50, height: 50, dx: 15, sprite: 'üöÄ' }; this.asteroids = []; this.score = 0; this.gameOver = false; this.animationFrameId = null; this.keys = { ArrowLeft: false, ArrowRight: false };
                this.setCanvasSize = this.setCanvasSize.bind(this); this.handleKeyDown = this.handleKeyDown.bind(this); this.handleKeyUp = this.handleKeyUp.bind(this); this.handleTouch = this.handleTouch.bind(this); this.loop = this.loop.bind(this);
                this.setCanvasSize();
                window.addEventListener('resize', this.setCanvasSize); document.addEventListener('keydown', this.handleKeyDown); document.addEventListener('keyup', this.handleKeyUp);
                this.canvas.addEventListener('touchstart', this.handleTouch, { passive: false }); this.canvas.addEventListener('touchmove', this.handleTouch, { passive: false });
            }
            setCanvasSize() { this.canvas.width = this.container.clientWidth; this.canvas.height = this.container.clientHeight; this.ship.x = this.canvas.width / 2 - this.ship.width / 2; this.ship.y = this.canvas.height - 60; }
            handleKeyDown(e) { if (this.keys.hasOwnProperty(e.key)) this.keys[e.key] = true; }
            handleKeyUp(e) { if (this.keys.hasOwnProperty(e.key)) this.keys[e.key] = false; }
            handleTouch(e) { e.preventDefault(); const touchX = e.touches[0].clientX - this.canvas.getBoundingClientRect().left; this.ship.x = touchX - this.ship.width / 2; if (this.ship.x < 0) this.ship.x = 0; if (this.ship.x + this.ship.width > this.canvas.width) this.ship.x = this.canvas.width - this.ship.width; }
            createAsteroid() { if (Math.random() < 0.025) { const size = Math.random() * 25 + 15; const x = Math.random() * (this.canvas.width - size); this.asteroids.push({ x, y: -size, size, dy: Math.random() * 2 + 1, sprite: '‚òÑÔ∏è' }); } }
            updateShip() { if (this.keys.ArrowLeft && this.ship.x > 0) this.ship.x -= this.ship.dx; if (this.keys.ArrowRight && this.ship.x < this.canvas.width - this.ship.width) this.ship.x += this.ship.dx; }
            updateAsteroids() { this.asteroids.forEach((asteroid, index) => { asteroid.y += asteroid.dy; if (this.ship.x < asteroid.x + asteroid.size && this.ship.x + this.ship.width > asteroid.x && this.ship.y < asteroid.y + asteroid.size && this.ship.y + this.ship.height > asteroid.y) { this.gameOver = true; } if (asteroid.y > this.canvas.height) { this.asteroids.splice(index, 1); this.score++; } }); }
            draw() { this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height); this.ctx.font = '40px sans-serif'; this.ctx.fillText(this.ship.sprite, this.ship.x, this.ship.y + this.ship.height - 10); this.asteroids.forEach(asteroid => { this.ctx.font = `${asteroid.size}px sans-serif`; this.ctx.fillText(asteroid.sprite, asteroid.x, asteroid.y); }); this.ctx.fillStyle = 'white'; this.ctx.font = '20px Orbitron'; this.ctx.fillText(`Pontos: ${this.score}`, 10, 30); }
            drawGameOver() { this.ctx.fillStyle = 'rgba(0, 0, 0, 0.7)'; this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height); this.ctx.fillStyle = 'red'; this.ctx.font = '40px Orbitron'; this.ctx.textAlign = 'center'; this.ctx.fillText('FIM DE JOGO', this.canvas.width / 2, this.canvas.height / 2 - 20); this.ctx.fillStyle = 'white'; this.ctx.font = '20px Orbitron'; this.ctx.fillText(`Pontua√ß√£o Final: ${this.score}`, this.canvas.width / 2, this.canvas.height / 2 + 20); this.ctx.font = '16px Roboto'; this.ctx.fillText('Feche a janela para jogar novamente.', this.canvas.width / 2, this.canvas.height / 2 + 60); this.ctx.textAlign = 'start'; }
            loop() { if (this.gameOver) { this.drawGameOver(); return; } this.updateShip(); this.createAsteroid(); this.updateAsteroids(); this.draw(); this.animationFrameId = requestAnimationFrame(this.loop); }
            start() { this.loop(); }
            stop() { cancelAnimationFrame(this.animationFrameId); window.removeEventListener('resize', this.setCanvasSize); document.removeEventListener('keydown', this.handleKeyDown); document.removeEventListener('keyup', this.handleKeyUp); }
        }
        
        // --- GAME 2: Space Quiz ---
        class SpaceQuiz {
            constructor(container) {
                this.container = container; this.score = 0; this.currentQuestionIndex = 0;
                this.questions = [ { question: "Em que ano o primeiro m√≥dulo da ISS foi lan√ßado?", options: ["1998", "2000", "2005", "1995"], correct: 0 }, { question: "Qual pa√≠s lan√ßou o m√≥dulo 'Zarya', o primeiro da ISS?", options: ["EUA", "Jap√£o", "R√∫ssia", "Canad√°"], correct: 2 }, { question: "A ISS orbita a Terra a uma altitude aproximada de:", options: ["100 km", "400 km", "1000 km", "Na Lua"], correct: 1 }, { question: "Quantas ag√™ncias espaciais principais colaboram na ISS?", options: ["2", "3", "5", "10"], correct: 2 }, { question: "A ISS completa uma √≥rbita ao redor da Terra em aproximadamente:", options: ["90 minutos", "24 horas", "45 minutos", "6 horas"], correct: 0 } ];
            }
            start() { this.displayQuestion(); }
            stop() { this.container.innerHTML = ''; }
            displayQuestion() {
                this.container.innerHTML = ''; if (this.currentQuestionIndex >= this.questions.length) { this.endQuiz(); return; } const q = this.questions[this.currentQuestionIndex];
                const quizContent = document.createElement('div'); quizContent.className = 'text-white text-center w-full p-4 overflow-y-auto'; quizContent.innerHTML = `<h4 class="text-xl md:text-2xl mb-6">${q.question}</h4>`;
                const optionsGrid = document.createElement('div'); optionsGrid.className = 'grid grid-cols-1 md:grid-cols-2 gap-4';
                q.options.forEach((option, index) => { const optionBtn = document.createElement('button'); optionBtn.className = 'quiz-option bg-cyan-800 hover:bg-cyan-700 p-4 rounded-lg text-lg'; optionBtn.innerText = option; optionBtn.onclick = () => this.checkAnswer(index, optionBtn); optionsGrid.appendChild(optionBtn); });
                quizContent.appendChild(optionsGrid); this.container.appendChild(quizContent);
            }
            checkAnswer(selectedIndex, btnElement) {
                const correctIndex = this.questions[this.currentQuestionIndex].correct; Array.from(btnElement.parentElement.children).forEach(btn => btn.disabled = true);
                if (selectedIndex === correctIndex) { this.score++; btnElement.style.backgroundColor = '#10B981'; } else { btnElement.style.backgroundColor = '#EF4444'; }
                this.currentQuestionIndex++; setTimeout(() => this.displayQuestion(), 1200);
            }
            endQuiz() { this.container.innerHTML = `<div class="text-center w-full flex flex-col items-center justify-center h-full"><h3 class="text-3xl orbitron">Quiz Finalizado!</h3><p class="text-xl mt-4">Sua pontua√ß√£o final foi: ${this.score} de ${this.questions.length}</p></div>`; }
        }

        // --- GAME 3: Galaxy Memory (MODIFICADO) ---
        class GalaxyMemory {
            constructor(container) {
                this.container = container; 
                // ALTERA√á√ÉO: Ajustado para 4 pares (8 cartas)
                this.emojis = ['üõ∞Ô∏è', 'üöÄ', 'üëΩ', 'üåç']; 
                this.cards = [...this.emojis, ...this.emojis];
                this.flippedCards = []; this.matchedPairs = 0; this.lockBoard = false;
            }
            start() { this.shuffle(this.cards); this.createBoard(); }
            stop() { this.container.innerHTML = ''; }
            shuffle(array) { array.sort(() => Math.random() - 0.5); }
            createBoard() {
                this.container.innerHTML = ''; const grid = document.createElement('div'); 
                grid.className = 'memory-grid w-full h-full p-2 sm:p-4 max-w-xs mx-auto';
                this.cards.forEach((emoji) => {
                    const card = document.createElement('div'); card.className = 'memory-card'; card.dataset.emoji = emoji;
                    card.addEventListener('click', () => this.flipCard(card));
                    card.innerHTML = `<div class="card-face card-front">?</div><div class="card-face card-back">${emoji}</div>`;
                    grid.appendChild(card);
                });
                this.container.appendChild(grid);
            }
            flipCard(card) {
                if (this.lockBoard || card.classList.contains('is-flipped') || this.flippedCards.includes(card)) return;
                card.classList.add('is-flipped'); this.flippedCards.push(card);
                if (this.flippedCards.length === 2) { this.lockBoard = true; this.checkForMatch(); }
            }
            checkForMatch() {
                const [card1, card2] = this.flippedCards;
                if (card1.dataset.emoji === card2.dataset.emoji) {
                    this.matchedPairs++; this.flippedCards = []; this.lockBoard = false;
                } else {
                    setTimeout(() => { card1.classList.remove('is-flipped'); card2.classList.remove('is-flipped'); this.flippedCards = []; this.lockBoard = false; }, 1000);
                }
                if (this.matchedPairs === this.emojis.length) { setTimeout(() => this.endGame(), 500); }
            }
            endGame() { this.container.innerHTML = `<div class="text-center w-full flex flex-col items-center justify-center h-full"><h3 class="text-3xl orbitron">Parab√©ns!</h3><p class="text-xl mt-4">Voc√™ encontrou todos os pares!</p></div>`; }
        }
    </script>

</body>
</html>


